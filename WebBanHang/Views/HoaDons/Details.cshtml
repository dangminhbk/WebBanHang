@model WebBanHang.Models.HoaDon

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Admin.cshtml";
    int tongTien = 0;
}

<div>
    <h4>Chi tiết hóa đơn</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.NgaySuatHoaDon)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.NgaySuatHoaDon)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ThanhToan)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ThanhToan)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.DiaChiNguoiNhan)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.DiaChiNguoiNhan)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.SoDienThoai)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.SoDienThoai)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.DonViGiaoHang)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.DonViGiaoHang)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.MaVanDon)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.MaVanDon)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.TongTien)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TongTien)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.TenKhachHang)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TenKhachHang)
        </dd>

    </dl>
    <table class="table table-bordered">
        <tr>
            <td>
                Đơn giá
            </td>
            <td>
                Tên sản phẩm
            </td>
            <td>
                Số lượng
            </td>
            <td>
                Tổng tiền
            </td>
        </tr>
        @foreach (var item in Model.SanPham_HoaDon)
        {
            var tongRieng = item.Gia * item.SoLuong;
            tongTien += (int)tongRieng;
            <tr>
                <td>
                    @item.Gia
                </td>
                <td>
                    @item.SanPham.TenSanPham
                </td>
                <td>
                    @item.SoLuong
                </td>
                <td>
                    @tongRieng vnd
                </td>
            </tr>
        }
        <tr>
            <td></td>
            <td></td>
            <td>
                Tổng:
            </td>
            <td>@tongTien vnd</td>
        </tr>
    </table>
   
</div>
<p>
    <button class="btn btn-primary">
        @Html.ActionLink("Sửa", "Edit", new { id = Model.MaHoaDon })
    </button>
    <button class="btn btn-primary">
        @Html.ActionLink("Quay lại", "Index")
    </button>

</p>
